TABLE   

CREATE TABLE IF NOT EXISTS User (
  UID INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(255) NOT NULL UNIQUE,
  email VARCHAR(255) NOT NULL UNIQUE,
  date_created TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  password VARCHAR(255) NOT NULL
);


document

CREATE TABLE Document (
    DocumentID varchar(255) PRIMARY KEY ,
    UID INT NOT NULL,
    Title VARCHAR(255) NOT NULL,
    Content TEXT NOT NULL,
    LastModified DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    Visibility ENUM('Public', 'Private') NOT NULL,
    FOREIGN KEY (UID) REFERENCES User(UID) ON DELETE CASCADE 
);

colab

CREATE TABLE Collaborator (
    CollaboratorID INT PRIMARY KEY AUTO_INCREMENT,
    UID INT NOT NULL,
    DocumentID varchar(255) NOT NULL,
    Role ENUM('Editor', 'Creator') NOT NULL,
    FOREIGN KEY (UID) REFERENCES User(UID) ON DELETE CASCADE,
    FOREIGN KEY (DocumentID) REFERENCES Document(DocumentID) ON DELETE CASCADE
);

docver

CREATE TABLE DocumentVersion (
    VersionID INT PRIMARY KEY AUTO_INCREMENT,
    DocumentID VARCHAR(255) NOT NULL,
    VersionNo INT NOT NULL,
    Content TEXT NOT NULL,
    Timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (DocumentID) REFERENCES Document(DocumentID) ON DELETE CASCADE
);

